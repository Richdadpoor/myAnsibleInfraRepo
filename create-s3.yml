---
 - name:  provisioning S3 Bucket using Ansible playbook
   hosts: localhost

   tasks:
     - name: Ensure boto and boto3 modules are installed
       pip:
         name: "{{ item }}"
       with_items:
          - boto3
          - botocore
       delegate_to: "{{ 172-31-16-245 }}"
     - name: create S3 bucket
       s3_bucket:
         name: sudhan-devops-bucket
         state: present
         region: eu-central-1
         versioning: no
         tags:
           name: myansiblebucket
           type: example
       register: s3_url

     - name: Display s3 url
       debug: var=s3_url
